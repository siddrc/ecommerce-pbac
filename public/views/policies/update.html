<div class="panel panel-default">
    <div class="panel-heading">Policies</div>
    <div class="panel-body">
        <table class="table">
            <tr>
                <th>Name</th>
                <th>Update Policy Details</th>
            </tr>
            <tr ng-repeat="policy in updatePolicies.policies">
                <td>{{policy.name}}</td>
                <td><span class="glyphicon glyphicon-pencil" aria-hidden="true" ng-click="updatePolicies.view(policy._id)"></span></td>
            </tr>
        </table>
    </div>
</div>
<div id="updatePolicyDetailsModal" class="modal fade" role="dialog" style="z-index: 1100;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Policy Details</h4>
            </div>
            <form ng-submit="updatePolicies.updatePolicy()">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <input type="text" class="form-control" placeholder="Policy Name" aria-describedby="basic-addon1" ng-model="updatePolicies.policyName">
                        <div ng-repeat="policyMaster in updatePolicies.policyMaster">
                            <b>{{policyMaster.name}}</b>
                            <div ng-repeat="policyMasterPermissionTypes in updatePolicies.policyMasterPermissionTypes">
                                <i>{{policyMasterPermissionTypes.name}}</i>
                                <input type="checkbox" ng-checked="updatePolicies.checkPermission(policyMaster.name,policyMasterPermissionTypes.name)" ng-click="updatePolicies.addPermission(policyMaster.name,policyMasterPermissionTypes.name)">
                            </div>
                        </div>
                        <br/>
                    </div>
                </div>
                <div class="alert alert-warning" role="alert">
                  The changes made to this policy will reflect for the users associated with this Policy only, also if they have currently logged in then the policy will <b><u>NOT</u></b> apply to them right now, it will be applicable upon their next login.
                  And as for non-logged in users, the policy has been applied.
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success">Submit</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>
